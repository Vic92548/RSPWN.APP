<article class="games-card vapr-card vapr-container-full vapr-height-card vapr-rounded glass-primary" id="games-card" style="display:none;">
    <div id="gamesContent">
        <div class="vapr-card-header glass-section-bg">
            <div class="header-content">
                <h2><i class="fa-solid fa-gamepad"></i> Games</h2>
                <p class="glass-text-muted">Browse available games</p>
            </div>
            <button type="button" class="glass-close-btn" onclick="closeGamesCard()">
                <i class="fa-solid fa-xmark"></i>
            </button>
        </div>

        <div class="vapr-card-body vapr-scrollbar">
            <div class="games-grid vapr-grid" id="games-grid"></div>
        </div>

        <div class="vapr-loading" id="games-loading" style="display:none;">
            <div class="vapr-loading-spinner">
                <i class="fa-solid fa-spinner fa-spin"></i>
            </div>
            <p class="vapr-loading-text glass-text-muted">Loading games...</p>
        </div>
    </div>
</article>

<article class="library-card vapr-card vapr-container-full vapr-height-card vapr-rounded glass-primary" id="library-card" style="display:none;">
    <div id="libraryContent">
        <div class="vapr-card-header glass-section-bg">
            <div class="header-content">
                <h2><i class="fa-solid fa-bookmark"></i> My Library</h2>
                <p class="glass-text-muted">Your owned games</p>
            </div>
            <button type="button" class="glass-close-btn" onclick="closeLibraryCard()">
                <i class="fa-solid fa-xmark"></i>
            </button>
        </div>

        <div class="library-actions vapr-padding-x">
            <button class="glass-button" onclick="openRedeemModal()">
                <i class="fa-solid fa-key"></i> Redeem Key
            </button>
        </div>

        <div class="vapr-card-body vapr-scrollbar">
            <div class="library-grid vapr-grid" id="library-grid"></div>
        </div>

        <div class="vapr-loading" id="library-loading" style="display:none;">
            <div class="vapr-loading-spinner">
                <i class="fa-solid fa-spinner fa-spin"></i>
            </div>
            <p class="vapr-loading-text glass-text-muted">Loading your library...</p>
        </div>
    </div>
</article>

<section id="redeem-modal" class="glass_modal" style="display:none;">
    <form onsubmit="redeemKey(event)" class="redeem-form glass-primary vapr-rounded">
        <h3>Redeem Game Key</h3>
        <input type="text" id="game-key-input" placeholder="XXXX-XXXX-XXXX-XXXX" class="glass-input" required pattern="[A-Za-z0-9]{4}-[A-Za-z0-9]{4}-[A-Za-z0-9]{4}-[A-Za-z0-9]{4}">
        <div class="modal-actions">
            <button type="button" onclick="closeRedeemModal()" class="glass-button">Cancel</button>
            <button type="submit" class="glass-button">Redeem</button>
        </div>
    </form>
</section>

<article class="game-management-card vapr-card vapr-container-full vapr-height-card vapr-rounded glass-primary" id="game-management-card" style="display:none;">
    <div id="gameManagementContent">
        <div class="vapr-card-header glass-section-bg">
            <div class="header-content">
                <h2><i class="fa-solid fa-key"></i> Manage Keys</h2>
                <p class="glass-text-muted" id="management-game-name">Game Name</p>
            </div>
            <button type="button" class="glass-close-btn" onclick="closeGameManagementCard()">
                <i class="fa-solid fa-xmark"></i>
            </button>
        </div>

        <div class="management-actions vapr-padding-x">
            <div class="key-generation-form">
                <h4>Generate New Keys</h4>
                <div class="generation-inputs">
                    <div class="input-group">
                        <label for="key-count">Number of Keys</label>
                        <input type="number" id="key-count" min="1" max="100" value="5" class="glass-input">
                    </div>
                    <div class="input-group">
                        <label for="key-tag">Tag</label>
                        <select id="key-tag" class="glass-input">
                            <option value="">No Tag</option>
                            <option value="tebex">Tebex</option>
                            <option value="keymailer">Keymailer</option>
                        </select>
                    </div>
                    <button class="glass-button" onclick="generateKeys()">
                        <i class="fa-solid fa-plus"></i> Generate
                    </button>
                </div>
            </div>

            <div class="key-stats vapr-grid vapr-grid-3">
                <div class="stat-card glass-secondary">
                    <span class="stat-value" id="total-keys">0</span>
                    <span class="stat-label">Total Keys</span>
                </div>
                <div class="stat-card glass-secondary">
                    <span class="stat-value" id="available-keys">0</span>
                    <span class="stat-label">Available</span>
                </div>
                <div class="stat-card glass-secondary">
                    <span class="stat-value" id="used-keys">0</span>
                    <span class="stat-label">Used</span>
                </div>
            </div>

            <div class="tag-filter">
                <button class="tag-filter-btn active" onclick="filterKeys('all')">All</button>
                <button class="tag-filter-btn" onclick="filterKeys('')">No Tag</button>
                <button class="tag-filter-btn" onclick="filterKeys('tebex')">Tebex</button>
                <button class="tag-filter-btn" onclick="filterKeys('keymailer')">Keymailer</button>
                <button class="download-keys-btn" onclick="downloadFilteredKeys()">
                    <i class="fa-solid fa-download"></i> Download Available Keys
                </button>
            </div>
        </div>

        <div class="vapr-card-body vapr-scrollbar">
            <div class="keys-list" id="keys-list"></div>
        </div>
    </div>
</article>